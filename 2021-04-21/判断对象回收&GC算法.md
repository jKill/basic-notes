## Java 中垃圾回收机制中如何判断对象需要回收？常见的 GC 回收算法有哪些？

#### 如何判断对象需要回收
引用计数法无法解决循环引用问题，没有在Java中使用。Java使用的是可达性分析。

- 可达性分析
以一系列可作为“GC Root”的对象为起点，根据引用链向下搜索，在引用链上的对象均为可达对象；反之，通过这些引用链无法达到的对象为不可达对象，需要被回收。

GC Root包括：1）虚拟机栈引用的对象； 2）本地方法栈中JNI引用的对象； 3）方法区中类静态属性引用的对象； 4）方法区中常量引用的对象。

#### 常见的GC算法
- 标记-清除：可达性分析中对进行存活对象进行标记，然后清除未标记对象。会留下内存碎片。
- 复制算法：把内存分为两块，只在其中一块分配对象，回收时把存活对象复制到另一块，然后清除原来的内存区域。适合在对象存活时间短的新生代使用，新生代eden区和一个survivor区的存活对象复制到另一块survivor区。
- 标记-压缩：可达性分析找出存活对象，复制到内存区域的一边，然后清除另一边的区域。能得到更规整的内存空间。